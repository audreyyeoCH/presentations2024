<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Script useR!2024 keynote by Audrey Yeo: a(R)t is the engine for change</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="Script_useR!2024_keynote_Audrey Yeo_files/libs/clipboard/clipboard.min.js"></script>
<script src="Script_useR!2024_keynote_Audrey Yeo_files/libs/quarto-html/quarto.js"></script>
<script src="Script_useR!2024_keynote_Audrey Yeo_files/libs/quarto-html/popper.min.js"></script>
<script src="Script_useR!2024_keynote_Audrey Yeo_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Script_useR!2024_keynote_Audrey Yeo_files/libs/quarto-html/anchor.min.js"></script>
<link href="Script_useR!2024_keynote_Audrey Yeo_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Script_useR!2024_keynote_Audrey Yeo_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Script_useR!2024_keynote_Audrey Yeo_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Script_useR!2024_keynote_Audrey Yeo_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Script_useR!2024_keynote_Audrey Yeo_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Script useR!2024 keynote by Audrey Yeo: a(R)t is the engine for change</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p><br>
</p>
<section id="abstract-keynote-at-user-2024-salzburg-austria" class="level2">
<h2 class="anchored" data-anchor-id="abstract-keynote-at-user-2024-salzburg-austria">Abstract : Keynote at useR! 2024 Salzburg, Austria üéπ</h2>
<p><em>‚Äúa(R)t is the engine for change‚Äù</em> Adam Grant said : Great minds do not think alike. They challenge each other to think again. In my opening remarks, I will borrow from Great minds in diverse Literature and how they can guide us to create collaborations and opportunities that span beyond the conference. I will also talk about how we can take similar steps to make the work that we do, a part of a long term-process for inclusion.</p>
</section>
<section id="slide-title-slide" class="level2">
<h2 class="anchored" data-anchor-id="slide-title-slide">Slide : (Title slide)</h2>
<p>Art is the engine for change.</p>
<p>Good morning. My name is Audrey Yeo and I‚Äôve travelled from Switzerland to be here. I am a Statistician and Statistical Software Engineer. For useR!2024 I am the Diversity Equitiy and Inclusion (DEI) Committee Lead and on behalf of the sponsors, LF and myself, a warm welcome to all of you.</p>
<p>I am excited about the diversity we have in our R community because ‚Ä¶Great minds do not think alike, they challenge each other to think again. Adam GRant.</p>
</section>
<section id="slide-all-are-welcome-here" class="level2">
<h2 class="anchored" data-anchor-id="slide-all-are-welcome-here">Slide : All are welcome here</h2>
<p>I want to acknowledge the geographically and linguistically diverse R communities that are in this room, and also joining us virtually.</p>
<p>I want to acknowledge the Neurodiversity in our community as well.</p>
<p>I want to thank the broader DEI community and LF for all the patience and hard work in educating me, on how to we make this conference more inclusive.</p>
<p>Our volunteers from various R ladies chapters including Global, forwardsR, rainbowR et al who have put their minds together to bring this event to all of you.</p>
</section>
<section id="slide-events-new" class="level2">
<h2 class="anchored" data-anchor-id="slide-events-new">Slide : Events NEW</h2>
<p>And these events are such as‚Ä¶.Birds of a Feather lunch, and Inclusive Pathways to Life Sciences and Tech panel.</p>
</section>
<section id="slide-events-past" class="level2">
<h2 class="anchored" data-anchor-id="slide-events-past">Slide : Events PAST</h2>
<p>Thanks to our DEI volunteers, in this conference we have had R Ladies Meet up dinner and R Ladies Birds of a Feather Lunch. Yesterday evening, we held Inclusive Pathways to Life Sciences and TEch careers. Slide : Events NEW</p>
<p>And today, rainbowR and Allies will have lunch together today. Rainbow R is a community that supports, promotes and connects LGBTQ+ people who code in the R language.</p>
<p>That‚Äôs right. Not just people who make great HEX stickers.</p>
</section>
<section id="slide-rule-10" class="level2">
<h2 class="anchored" data-anchor-id="slide-rule-10">Slide : Rule 10</h2>
<p>Throughout the preparations for this conference we refer to the paper by Joo et all 2022 on how to run a more inclusive conference. Our goal was to make Rule no. 10, Rule no.1</p>
<p>We have given our scholarships, created Gender Neutral Bathrooms, and community has contributed to a spotify playlist of songs from all around the world including indigenous communities. I hope you found something that made you feel welcome Slide : Inclusive Speaker Orientation</p>
<p>The Speakers of this conference have also taken part in making everyone feel more included, that is, the inclusive speaker orientation.</p>
<p>I want to read to you the definition of D and I from this course.</p>
<p>Diversity refers to the vast array of human differences especially those that have been HISTORICALLY disadvantaged</p>
<p>Inclusion refers to systems that ACTIVELY include and support individuals regardless of their identities</p>
<p>I will acknowledge the historical precedence for what makes our world so divided in my talk as part of a long term process for inclusion. To the attendees, I recommend that you too take this course which is available on the LF website. Slide : Who am I You may be asking, who am I ? Well, I am just like you. Navigating in this complex world and doing my best.</p>
<p>I am a Clinician, Poet, Statistician and Software Engineer.</p>
<p>I‚Äôve worked in Healthcare, Finance, Academy and now Pharma.</p>
<p>And maybe just like you, I cycle, Swim, Boulder, write and perform Poetry. Slide : Why are we here ?</p>
<p>But why are we ALL here ?</p>
<p>Again I refer to Joo on what a good conference is.</p>
<p>A good conference experience can make a difference in the professional development of the participants and create long-lasting collaborations and opportunities (Joo et al, 2022)</p>
</section>
<section id="slide-our-vision-at-user2024" class="level2">
<h2 class="anchored" data-anchor-id="slide-our-vision-at-user2024">Slide : Our vision at useR!2024</h2>
<p>Our vision here at useR!2024 is improve accessibility for the wider community such that they can participate and feel safe regardless of gender, gender identity, sexual orientation, disability, race, ethnicity, age, religion or economic status‚Ä¶</p>
</section>
<section id="slide-how-do-we" class="level2">
<h2 class="anchored" data-anchor-id="slide-how-do-we">Slide : How do we ?</h2>
<p>Create long-lasting collaborations and opportunities.</p>
<p>A safe space and</p>
<p>Make the conference part of a long-term process for inclusion ?</p>
<p>I have two suggestions.</p>
</section>
<section id="slide-how-do-we-achieve-these-3-goals" class="level2">
<h2 class="anchored" data-anchor-id="slide-how-do-we-achieve-these-3-goals">Slide : How do we achieve these 3 goals</h2>
<p>Code of conduct. Please read the code of conduct. Be kind. Be respectful.</p>
<p>The second I borrow from the arts. Let me share with you a quote from a Malaysian novelist for the Booker prize book The Garden of Evening Mists..</p>
<p>‚ÄúA raintree bent towards a window in one side of the bungalow, eavesdropping on the conversations that had taken place inside over years.‚Äù</p>
<p>The imagery of this phrase likens to</p>
<p>Encouraging as people to listen in with care and consider the accumulated journeys, iteration of thought and experiences, realities and labor that precedes before the present time. We can be curious.</p>
<p>We can Be kind. Be Respectful. Be curious.</p>
<p>Before go more into arts lets go into the foundation of Science. Statistics. Slide : Statisticians in History</p>
<p>Great statisticians on google are Calyampudi, Jerzy, David, Carl, William, William, Ronald, John, FLORENCE, Bradley, William, Bruno ‚Ä¶ I think you get where we are going with this.</p>
<p>I want to talk about Florence Nightingale. The German Wikipedia in my view has a more inclusive summary of whe FN was. I know bc I studied both a M Nursing and a M Statistics.</p>
<p>FN according to the DE wikipedia, was a British Nurse, Statistician, and founder of modern Western Nursing.</p>
<p>If you didn‚Äôt know about her, FN was born about 300 years ago to a wealthy and well connected family which is start of her legacy as well. Her father took charge of her and her sisters education, allowing for them to study modern and ancient languages, music, painting, sewing and when FN was 20, at her insistence, her father paid for mathematics lessons. As she was well connected and made long EU trips, she had the opportunity to observe a German head of nursing and was asked to be a superintendent of a nursing home and when the Crimean war broke out, she also went in the efforts to nurse injured soldiers.</p>
<p>FN made headlines for her sharp judgment and call for reform of hospitals. Calling out overcrowdedness and lack of air circulation for causes and persistence of illness just to name a few.</p>
<p>If there was twitter and linkedin at that time, FN might have also been viral on instagram.</p>
<p>There are many quotes from FN on nursing but this is one of statistics. It says: ‚ÄúTheir principle, if logically carried out, is simply to throw out all ages and all diseases and then there would be no mortality whatever.‚Äù FN encourage critical thinking of data integrity, completeness of data, and highlighted the risk of bias and its inference. These are features of modern statistics.</p>
</section>
<section id="slide-on-florence-nightingale" class="level2">
<h2 class="anchored" data-anchor-id="slide-on-florence-nightingale">Slide : On Florence Nightingale:</h2>
<p>Since Florence, we have had a more diverse statisticians coming from University. And we need everybody on board to solve worldly problems the way Florance has. We need Ronald, John, Bruno Carlo, David and‚Ä¶ more.</p>
<p>So when you go to your sessions and quote positively of your experience of the useR conference, please ‚Ä¶</p>
</section>
<section id="slide-quote-inclusively" class="level2">
<h2 class="anchored" data-anchor-id="slide-quote-inclusively">Slide : Quote Inclusively</h2>
<p>Quote her, Quote they, Quote them as well.</p>
</section>
<section id="slide-learn-something-new" class="level2">
<h2 class="anchored" data-anchor-id="slide-learn-something-new">Slide : Learn something ‚Äúnew‚Äù</h2>
<p>My wish for you to create long lasting collaborations and opportunities to learn something new</p>
<p>Medicine and nursing has learned so much from the aviation industry on how to behave in an emergency situation where time is life. Aviation taught medicine and nursing How to communicate in a completely unambiguous way so that every effort of the HCW is centered to making sure the patient has the best outcome.</p>
<p>This is a paper written about the innovation when Medicine went to an Aviation conference session. I think you know what I mean. So learn something new, and maybe your long lasting collabortion will change the world for the better.</p>
<p>Please refer to this paper which illuminates this example, also written by a nurse.</p>
</section>
<section id="slide-people-are-more-than-1-thing" class="level2">
<h2 class="anchored" data-anchor-id="slide-people-are-more-than-1-thing">Slide : People are more than 1 thing</h2>
<p>With long lasting collaborations and time we see that people are more than 1 thing. When we want everybody on board, we have to keep this in mind. I continue to borrow from the Arts This is a quote from a nigerian author, Chimamanda:</p>
<p>‚ÄúThe single story creates stereotypes, and the problem with stereotypes is not that they are untrue, but that they are incomplete. They make one story become the only story.‚Äù</p>
<p>So please, be like Florence Nightingal, be like Chimanda, know that people can be more than 1 thing.</p>
</section>
<section id="slide-assume-you-have-diÔ¨Äerent-realities-from-others" class="level2">
<h2 class="anchored" data-anchor-id="slide-assume-you-have-diÔ¨Äerent-realities-from-others">Slide : Assume you have diÔ¨Äerent realities from others</h2>
<p>I‚Äôd like to bring the previous point home, on how to keep safe spaces for everybody.</p>
<p>I quote Chimamanda again ;: ‚ÄúI did not think of myself as black and I only became black when I came to America.‚Äù</p>
<p>I can relate this this.</p>
<p>As an Asian woman in growing up in Australia and in Europe, I don‚Äôt see what a ‚Äúbig deal‚Äù it is to look the way i do, to others. It can feel undignifying, dehumanizing and exhausting, to navigate the body I own in a world that makes me feel that my culture and body is a narrative that excludes mine.</p>
<p>Therefore when I read out to you the definition of diversity, and quote about the raintree eavesdropping on the side of a bungalow and realising that there were years before it, I am alluding to the history and precedence that make surface level differences, more deep and deserving of our attention. Slide : Recommended Books</p>
<p>Here are some books That our DEI community has put together and we hope it make for part of the conference‚Äôs long term pursuit for inclusion. I hope you take part in this force.</p>
</section>
<section id="slide-in-summary" class="level2">
<h2 class="anchored" data-anchor-id="slide-in-summary">Slide : In summary</h2>
<ol type="1">
<li>Read the Code of Conduct</li>
<li>Open yourself up to Missing Information</li>
<li>Quote inclusively</li>
<li>Drop by the rainbowR and Allies Lunch</li>
<li>We make decisions all the time based on incomplete information. These decisions can change lives. - Be Curious</li>
<li>Take the Inclusive Speaker orientation course (Linux Foundation)</li>
</ol>
<p>After the conference</p>
<p>And after the conference, I hope that you get to continue the work you love you do, and make your work part of a long-term process for inclusion because‚Ä¶</p>
</section>
<section id="slide-because-great-minds-do-not-think-alike" class="level2">
<h2 class="anchored" data-anchor-id="slide-because-great-minds-do-not-think-alike">Slide : Because Great minds do not think alike</h2>
<p>Great minds do not think alike.</p>
<p>I will conclude with a quote from the Arts. Haruki Murakami in his book What I talk about when I talk about running:</p>
<p>‚ÄúSometimes taking the time is a shortcut‚Äù</p>
<p>So thank you for your attention and please take your time.</p>
<pre><code>                       -- _fin_ Thank you for reading ‚ô•Ô∏è --</code></pre>
<p>Peruse our DEI booklist :</p>
<ol type="1">
<li>African/Black/Asian : Resmaa Menakem My grandmother‚Äôs hands 2017</li>
<li>Deaf : Nora Ellen Groce Everyone here spoke sign language 1985</li>
<li>General : Judith Heumann Being Heumann 2020</li>
<li>Deaf/blind : Haben Girma Haben: The Deafblind Woman Who Conquered Harvard Law 2019</li>
</ol>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>